(function(){var b=0;var c=["webkit","moz"];for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(h,e){var d=new Date().getTime();var f=Math.max(0,16-(d-b));var g=window.setTimeout(function(){h(d+f)},f);b=d+f;return g}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){clearTimeout(d)}}}());(function(e,g,h,b){var f="spriteAnimate",c={frameWidth:null,frameHeight:null,numberOfFrames:null,imgSrc:null,fps:null,loop:true,jumpFrame:null,debug:false,onReady:function(){},onFinish:function(){}};function i(l,k){this.el=l;this.$el=e(l);this.options=e.extend({},c,k);this._defaults=c;this._name=f;this.animation=null;this.isPaused=true;this.rafLoop=b;this.init()}function j(v){var s={},m=0,o=true,r=Math.ceil(1000/v.fps),l=0,u=v.numberOfFrames||1,p=v.loop,n=v.jumpFrame,k=v.debug,q=v.onReady,t=v.onFinish;s.context=v.context;s.width=v.width;s.height=v.height;s.frameWidth=v.frameWidth;s.frameHeight=v.frameHeight;s.columns=v.width/v.frameWidth;s.image=v.image;s.update=function(){var w=Date.now();if((w-l)>r){tickCount=0;l=w;if(m<u-1){m+=1}else{if(!p){t();return false}else{if(d(n)){m=n}else{m=0}}}o=true}else{o=false}return true};s.goTo=function(w){if(w<=u-1){m=w;o=true}else{console.error("spriteAnimate: Invalid Frame Index ("+w+")")}};s.reset=function(){m=0;o=true};s.getIndex=function(){return m};s.forwardUpdate=function(){if(m<u-1){m+=1}else{m=0}o=true};s.backwardUpdate=function(){if(m==0){m=u-1}else{m-=1}o=true};s.render=function(){if(o){s.context.clearRect(0,0,s.width,s.height);var w=(m+1)%s.columns;var y=Math.ceil((m+1)/s.columns);if(w==0){w=s.columns}var z=(w-1)*s.frameWidth;var x=(y-1)*s.frameHeight;s.context.drawImage(s.image,z,x,s.frameWidth,s.frameHeight,0,0,s.frameWidth,s.frameHeight);if(k){s.context.fillStyle="#42C31F";s.context.font="16px sans-serif";s.context.fillText("Frame: "+(m+1),10,s.frameHeight-10)}}};s.ready=function(){q()};return s}function d(k){return Number(k)===k&&k%1===0}function a(k){return k===Number(k)&&k%1!==0}i.prototype._animationLoop=function(){var l=this;function k(){l.rafLoop=g.requestAnimationFrame(k);if(!l.isPaused){if(l.animation.update()){l.animation.render()}else{l._stopAnimationLoop();l.$el.trigger("ended")}}}k()};i.prototype._stopAnimationLoop=function(){if(this.rafLoop){g.cancelAnimationFrame(this.rafLoop);this.rafLoop=b}};i.prototype.init=function(){var n,l,k,m;l=this.el;l.width=this.options.frameWidth;l.height=this.options.frameHeight;n=this;k=this.options;m=new Image();m.addEventListener("load",function(){n.animation=j({context:l.getContext("2d"),width:m.width,height:m.height,frameWidth:k.frameWidth,frameHeight:k.frameHeight,image:m,numberOfFrames:k.numberOfFrames,fps:k.fps,loop:k.loop,jumpFrame:k.jumpFrame,debug:k.debug,onReady:k.onReady,onFinish:k.onFinish});n.animation.render();e(l).addClass("loaded");n._animationLoop();g.setTimeout(function(){n.animation.ready()},10)});m.src=this.options.imgSrc;if(this.options.debug){e(h).keydown(function(o){if(o.keyCode==39){n.animation.forwardUpdate();n.animation.render()}if(o.keyCode==37){n.animation.backwardUpdate();n.animation.render()}});e(l).css("outline","1px dashed red")}};i.prototype.play=function(){this.isPaused=false};i.prototype.pause=function(){this.isPaused=true};i.prototype.restart=function(){this.animation.reset();this.animation.render();this._animationLoop()};i.prototype.goTo=function(k){if(d(k)){this.animation.goTo(k);this.animation.render()}else{console.error("spriteAnimate: Not a valid integer")}};i.prototype.getIndex=function(){return this.animation.getIndex()};e.fn[f]=function(l){var k=arguments;if(l===b||typeof l==="object"){return this.each(function(){if(!e.data(this,"plugin_"+f)){e.data(this,"plugin_"+f,new i(this,l))}})}else{if(typeof l==="string"&&l[0]!=="_"&&l!=="init"){var m;this.each(function(){var n=e.data(this,"plugin_"+f);if(n instanceof i&&typeof n[l]==="function"){m=n[l].apply(n,Array.prototype.slice.call(k,1))}if(l==="destroy"){e.data(this,"plugin_"+f,null)}});return m!==b?m:this}}}}(jQuery,window,document));var RCSUI=(function(){var a=this;var b=function(){$("body").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},callbacks:{whileScrolling:function(){if(this.mcs.draggerTop>=200){$(".header, .quick").addClass("scrolling")}else{$(".header, .quick").removeClass("scrolling")}}}});var c=$("#mypick-lists").masonry({percentPosition:true,itemSelector:".mypick-item"});c.imagesLoaded().progress(function(){c.masonry("layout")});var d=new Swiper(".profile__swiper .swiper-container",{pagination:{el:".profile__swiper .swiper-pagination"}});$(".charting .msgs__scroll, .hashtag-scroll, .benefit-cards-scroll, .brand-scroll, .picks__scroll.is-scrolled").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},axis:"x",setLeft:"0px"});$(".picks__scroll.is-scrolled").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},axis:"x",setLeft:"0px",advanced:{autoExpandHorizontalScroll:true}});$(".default-box, .chartbot-list").height($(window).height());$(".picks__close").on("click",function(){$(".picks__default").slideUp()});$(".lists__mypick").on("click",function(j){var l=$(this).closest(".lists__item").find(".name").html(),k=$(this).closest(".lists__item").find(".lists__summery").html();var f="";f+='<li class="picks__item ">';f+='<strong class="brand">'+l+"</strong>";f+='<div class="txt">'+k+"</div>";f+="</li>";var h="";h+='<li class="picks__item picks__more ">';h+='<a href="javascript:;" class="mypick_all">마이픽 전체보기</a>';h+="</li>";$(".toast").fadeIn().delay(800).fadeOut();$(".picks__default").hide();$(".picks ul").prepend(f);$(".picks__scroll").addClass("is-scrolled");$(".picks__scroll.is-scrolled").mCustomScrollbar("destroy");$(".picks__scroll.is-scrolled").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},axis:"x",setLeft:"0px",advanced:{autoExpandHorizontalScroll:true}});setTimeout(function(){$(".picks li").addClass("show")},200);$(".picks__more").remove();$(".picks ul").append(h);var i=$(".picks li").length;if(i<3){$(".picks li").addClass("picks__solo");$(".picks__solo").css("width",$(window).width()-35);$(".picks__more").remove();$(".picks ul").append(h);$(".picks__flex").css("width",($(window).width()-31)+125)}else{$(".picks__more").remove();$(".picks ul").append(h);$(".picks li").removeAttr("style").removeClass("picks__solo");$(".picks__flex").css("width",($(".picks li").length*168)-35)}var g=$(this).find("canvas");g.spriteAnimate({frameWidth:600,frameHeight:600,numberOfFrames:31,imgSrc:"./resource/imgs/allgif4.png",fps:30,loop:false,debug:false,onFinish:function(){}});g.spriteAnimate("play");$(this).prop("disabled","disabled");$(this).find("canvas").show();g.spriteAnimate("restart");return false});$(".lists__mypick2").on("click",function(g){$(".toast").fadeIn().delay(800).fadeOut();var f=$(this).find("canvas");f.spriteAnimate({frameWidth:600,frameHeight:600,numberOfFrames:31,imgSrc:"./resource/imgs/allgif4.png",fps:30,loop:false,debug:false,onFinish:function(){}});f.spriteAnimate("play");$(this).prop("disabled","disabled");$(this).find("canvas").show();f.spriteAnimate("restart");return false});$(document).on("click",".mypick_all",function(f){$(".mypicks").addClass("open")});$(".lists__expand").on("click",function(i){if($(this).parent().find(".lists__in-content").length>0){i.preventDefault();$(".lists__item .msgs__scroll").mCustomScrollbar("destroy");var h=$(this).parent().find(".lists__in-content");if(h.is(":visible")){$(this).removeClass("is-actived");$(this).hide();h.hide();$(".lists__summery, .lists__tits .ico").show();$(this).parent().removeClass("is-expand").addClass("long");$(".lists__mypick, .lists__mypick2").fadeOut(0);$(".lists__item .msgs__scroll").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},axis:"x",setLeft:"0px"})}else{var g=$(this).parent().find(".lists__number").text();var f=$(".quick .number").text();$(".quick .number").text(f-g);if($(".quick .number").text()<1){$(".quick .number").fadeOut()}$(".lists__expand").removeClass("is-actived");$(this).addClass("is-actived");$(".lists__in-content").hide();h.show();$(".lists__summery, .lists__tits .ico").show();$(this).parent().find(".lists__summery, .lists__tits .ico, .lists__number").hide();$(".lists__item").removeClass("is-expand");$(".lists__item").each(function(){if($(this).hasClass("is-showed")){$(this).find(".lists__expand").hide()}});$(this).parent().addClass("is-expand is-showed");$(".lists__mypick, .lists__mypick2").fadeOut(0);$(this).parent().find(".lists__mypick, .lists__mypick2").delay(200).fadeIn(0);$(".lists__item .msgs__scroll").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},axis:"x",setLeft:"0px"})}}});$(".lists__link").on("click",function(h){var g=$(this).parent().find(".lists__number").text();var f=$(".quick .number").text();$(".quick .number").text(f-g);if($(".quick .number").text()<1){$(".quick .number").fadeOut()}if($(this).parent().parent().find(".lists__expand").length>0){$(this).parent().parent().find(".lists__expand").delay(500).fadeOut(0)}if($(this).parent().parent().find(".lists__number").length>0){$(this).parent().parent().find(".lists__number").delay(500).fadeOut(0)}$(this).parent().parent().addClass("long")});$(".live-picks .all").on("click",function(f){$(".live-picks-all").addClass("open");$(".live-pick-all .benepick-slider").slick({vertical:true,verticalSwiping:true,slidesToShow:6,slidesToScroll:1,arrows:false})});$(".picks-detail-sb").on("click",function(f){$(".benepick-detail").fadeIn()});$(".recom-tab-items a").on("click",function(g){var f=$(this).attr("data-tab");$(".recom-tab-items a").removeClass("is-actived");$(this).addClass("is-actived");$(".recom-tab-content > div").hide();$("#"+f).show();$(".brand-scroll").mCustomScrollbar("destroy");$(".brand-scroll").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},axis:"x",setLeft:"0px"})});$(".util__srch").on("click",function(f){$(".search").addClass("open");$(".search .top-forms .inputs input").focus()});$(".util__write").on("click",function(f){$(".user-srch").addClass("open");$(".phone-srch-inputs .add, .choice, .welcome-msg").hide();$(".first-input, .fl1, .phone-srch-inputs .select-people, .popular-chartbot").show();$(".first-input").focus()});$(".first-input").on("keydown",function(f){$(".phone-srch-inputs .add").show();$(".fl1, .phone-srch-inputs .select-people, .popular-chartbot").hide()});$(".phone-srch-inputs .add").on("click",function(f){$(this).hide();$(".phone-srch-inputs .select-people").show();$(".phone-srch-inputs .first-input").hide();$(".default-keypad").show();$(".default-keypad input[type=text]").focus();$(".phone-srch-inputs .choice, .welcome-msg").show()});$(".welcome-msg .first-msg").on("click",function(f){$(".welcome-msg").hide();$(".newchart-keypad").addClass("is-showed");$(".newchart-keypad input").focus()});$(".newchart-keypad .send").on("click",function(f){$(".reservation-chart").addClass("open");$(".reservation-chart .reservation-chart-input").focus()});$(".me-click").on("click",function(f){$(".profile2").addClass("open")});$(".link-chart1").on("click",function(f){$(".standby-txt").fadeIn();$(".default-chart").addClass("open")});$(".move-profile1").on("click",function(f){$(".profile1").addClass("open")});$(".standby-txt").on("click",function(f){$(this).hide();$("body, html, .scroll-views").animate({scrollTop:$(".scroll-views").height()},0)});$(".link-chart2").on("click",function(f){$(".sb-chart").addClass("open")});$(".move-brandhome-sb").on("click",function(f){$(".brandhome-sb").addClass("open notransform")});$(".link-chart3").on("click",function(f){$(".mk-chart1").addClass("open")});$(".move-brandhome-mk1").on("click",function(f){$(".brandhome-mk").addClass("open notransform")});$(".link-chart4").on("click",function(f){$(".sh-chart").addClass("open")});$(".move-brandhome-sh").on("click",function(f){$(".brandhome-sh").addClass("open notransform")});$(".link-chart5").on("click",function(f){$(".kb-chart").addClass("open")});$(".move-brandhome-kb").on("click",function(f){$(".brandhome-kb").addClass("open notransform")});$(".kb-keyword2").on("click",function(f){$(".benefit-cards-scroll").mCustomScrollbar("destroy");$(".kb-hidden1").delay(100).fadeIn();$(".kb-hidden2").delay(1000).fadeIn();$(".kb-hidden3").delay(1500).fadeIn(function(){$(".benefit-cards-scroll").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},axis:"x",setLeft:"0px"});$("body, html, .scroll-views").animate({scrollTop:$(".scroll-views").height()},0)})});$(".kb-hidden3 a").on("click",function(g){var f=$(this).find("img").attr("alt");$(".kb-hidden4 .txt").text(f);$(".kb-hidden4").show();$("body, html, .scroll-views").animate({scrollTop:$(".scroll-views").height()},0)});$(".link-chart6").on("click",function(f){$(".multiplex-chart").addClass("open");$(".standby-txt").fadeIn()});$(".chartbot").on("click",function(f){$(this).hide();$(".chartbot-dims").fadeIn();$(".chartbot-list li").addClass("is-actived")});$(".quick button").on("click",function(h){var g=$(".quick button").index($(this));$(".quick button").removeClass("is-actived");$(this).addClass("is-actived");$("html, body").animate({scrollTop:0},0);$("body").mCustomScrollbar("destroy");$("body").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},callbacks:{whileScrolling:function(){if(this.mcs.draggerTop>=200){$(".header, .quick").addClass("scrolling")}else{$(".header, .quick").removeClass("scrolling")}}}});$(".lists__item").each(function(){if($(this).hasClass("is-expand")){$(this).removeClass("is-expand").addClass("long");$(this).find(".lists__expand").hide().removeClass("is-actived");$(this).find(".lists__summery, .lists__tits .ico").show();$(this).find(".lists__in-content, .lists__mypick, .lists__mypick2").hide()}});if(g===0){$(".msg-list, .benepicks").hide();$(".friend-list").show();$(".recom-tab-items li").eq(0).find("a").click()}else{if(g===1){$(".friend-list, .benepicks").hide();$(".msg-list").show();$(".recom-tab-items li").eq(0).find("a").click()}else{if(g===2){$(".friend-list, .msg-list").hide();$(".benepicks").show();$(".benepick-main .benepick-slider").slick({mobileFirst:true,vertical:true,verticalSwiping:true,slidesToShow:2,swipeToSlide:true,centerMode:true,arrows:false,accessibility:false,verticalSwiping:true,touchThreshold:10,autoplay:true,autoplaySpeed:3000});var f=new Swiper(".brend-swiper .swiper-container",{pagination:{el:".brend-swiper .swiper-pagination",type:"progressbar"}});$(".friend-pick-list, .brand-scroll").mCustomScrollbar("destroy");$(".friend-pick-list, .brand-scroll").mCustomScrollbar({scrollInertia:800,mouseWheel:{scrollAmount:800},axis:"x",setLeft:"0px"})}}}});$(".brandhome .mov").on("click",function(f){$(this).find(".video").show();$(this).find(".video")[0].play()});$(".link-starbucks").on("click",function(f){f.preventDefault();$(".site").addClass("open");return false});$(".chart .back").on("click",function(f){$(".chart").removeClass("open");$(".first-input").val("");$(".kb-hidden1, .kb-hidden2, .kb-hidden3, .kb-hidden4").hide();$("html, body, .scroll-views").animate({scrollTop:0},0);$(".standby-txt").show();$(".lists__item").each(function(){if($(this).hasClass("is-expand")){$(this).removeClass("is-expand").addClass("long");$(this).find(".lists__expand").hide().removeClass("is-actived");$(this).find(".lists__summery, .lists__tits .ico").show();$(this).find(".lists__in-content, .lists__mypick, .lists__mypick2").hide()}});$(".welcome-msg").show();$(".newchart-keypad").removeClass("is-showed")});$(".site").on("click",function(f){$(".site").removeClass("open");$(".first-input").val("");$(".kb-hidden1, .kb-hidden2, .kb-hidden3, .kb-hidden4").hide();$("html, body, .scroll-views").animate({scrollTop:0},0);$(".standby-txt").show();$(".lists__item").each(function(){if($(this).hasClass("is-expand")){$(this).removeClass("is-expand").addClass("long");$(this).find(".lists__expand").hide().removeClass("is-actived");$(this).find(".lists__summery, .lists__tits .ico").show();$(this).find(".lists__in-content, .lists__mypick, .lists__mypick2").hide()}});$(".welcome-msg").show();$(".newchart-keypad").removeClass("is-showed")});$(".brandhome .back").on("click",function(f){$(".brandhome").removeClass("notransform open");$(".lists__item").each(function(){if($(this).hasClass("is-expand")){$(this).removeClass("is-expand").addClass("long");$(this).find(".lists__expand").hide().removeClass("is-actived");$(this).find(".lists__summery, .lists__tits .ico").show();$(this).find(".lists__in-content, .lists__mypick, .lists__mypick2").hide()}});$(".welcome-msg").show();$(".newchart-keypad").removeClass("is-showed");$("html, body, .scroll-views").animate({scrollTop:0},0)});$(".mypicks  .back").on("click",function(f){$(".mypicks").removeClass("open");$(".lists__item").each(function(){if($(this).hasClass("is-expand")){$(this).removeClass("is-expand").addClass("long");$(this).find(".lists__expand").hide().removeClass("is-actived");$(this).find(".lists__summery, .lists__tits .ico").show();$(this).find(".lists__in-content, .lists__mypick, .lists__mypick2").hide()}});$(".welcome-msg").show();$(".newchart-keypad").removeClass("is-showed");$("html, body, .scroll-views").animate({scrollTop:0},0)});$(".search  .back").on("click",function(f){$(".search").removeClass("open");$(".lists__item").each(function(){if($(this).hasClass("is-expand")){$(this).removeClass("is-expand").addClass("long");$(this).find(".lists__expand").hide().removeClass("is-actived");$(this).find(".lists__summery, .lists__tits .ico").show();$(this).find(".lists__in-content, .lists__mypick, .lists__mypick2").hide()}});$(".welcome-msg").show();$(".newchart-keypad").removeClass("is-showed");$("html, body, .scroll-views").animate({scrollTop:0},0)});$(".profile  .close").on("click",function(f){$(".profile").removeClass("open");$(".lists__item").each(function(){if($(this).hasClass("is-expand")){$(this).removeClass("is-expand").addClass("long");$(this).find(".lists__expand").hide().removeClass("is-actived");$(this).find(".lists__summery, .lists__tits .ico").show();$(this).find(".lists__in-content, .lists__mypick, .lists__mypick2").hide()}});$(".welcome-msg").show();$(".newchart-keypad").removeClass("is-showed");$("html, body, .scroll-views").animate({scrollTop:0},0)});$(".chartbot-close").on("click",function(f){$(".chartbot").show();$(".chartbot-dims").fadeOut();$(".chartbot-list li").removeClass("is-actived");$("html, body, .scroll-views").animate({scrollTop:0},0)});$(".benepick-detail .back, .benepick-detail .close").on("click",function(f){$(".benepick-detail").fadeOut();$(".live-picks-all").removeClass("open");$(".quick__benefit").click();$(".lists__item").each(function(){if($(this).hasClass("is-expand")){$(this).removeClass("is-expand").addClass("long");$(this).find(".lists__expand").hide().removeClass("is-actived");$(this).find(".lists__summery, .lists__tits .ico").show();$(this).find(".lists__in-content, .lists__mypick, .lists__mypick2").hide()}});$(".welcome-msg").show();$(".newchart-keypad").removeClass("is-showed");$("html, body, .scroll-views").animate({scrollTop:0},0)});$(".chart .scroll-views").on("scroll",function(){$(".standby-txt").fadeOut()});$("html, body").on("scroll",function(){if($(this).scrollTop()>=54){$(".header").addClass("scrolling")}else{$(".header").removeClass("scrolling")}}).trigger("scroll")};return{init:b}})();$(function(){RCSUI.init()});